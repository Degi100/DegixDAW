// ============================================
// HEADER THEME - Theme Toggle & Dark Mode
// ============================================

@use '../../../abstracts/index' as *;

// ============================================
// THEME TOGGLE - Always positioned consistently
// ============================================

.theme-toggle {
  position: absolute;
  top: 50%;
  right: $spacing-4;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  background: none;
  border: none;
  border-radius: $radius-full;
  cursor: pointer;
  transition: all $transition-fast;
  z-index: 10; // Ensure it's always on top

  &:hover {
    background-color: $gray-100;
  }

  &:focus {
    outline: 2px solid $primary-500;
    outline-offset: 2px;
  }

  @media (max-width: $breakpoint-md) {
    position: static;
    margin-left: $spacing-2;
    width: 2rem;
    height: 2rem;
  }
}

.theme-icon {
  font-size: $font-size-lg;
  line-height: 1;
}

// ============================================
// DARK MODE OVERRIDES
// ============================================

[data-theme="dark"] {
  // Header Base
  .global-header {
    background: rgba($dark-bg-secondary, 0.95);
    border-bottom-color: rgba($dark-border, 0.5);
  }

  // Brand
  .brand-link {
    color: $dark-text-primary;

    &:hover {
      color: $primary-400;
    }
  }

  // Desktop Navigation
  .nav-link {
    color: $dark-text-secondary;

    &:hover {
      background-color: $dark-bg-tertiary;
      color: $dark-text-primary;
    }

    &.active {
      background-color: rgba($primary-500, 0.1);
      color: $primary-300;
    }
  }

  // Theme Toggle
  .theme-toggle:hover {
    background-color: $dark-bg-tertiary;
  }

  // User Menu
  .user-menu-trigger:hover {
    background-color: $dark-bg-tertiary;
  }

  .user-name {
    color: $dark-text-primary;
  }

  .dropdown-arrow {
    color: $dark-text-muted;
  }

  // User Dropdown
  .user-dropdown {
    background: $dark-bg-secondary;
    border-color: $dark-border;
  }

  .dropdown-header {
    background: $dark-bg-tertiary;
    border-bottom-color: $dark-border;
  }

  .dropdown-user-name {
    color: $dark-text-primary;
  }

  .dropdown-user-email {
    color: $dark-text-muted;
  }

  .dropdown-item {
    color: $dark-text-primary;

    &:hover {
      background-color: $dark-bg-tertiary;
    }

    &.logout-item {
      color: $danger;
    }
  }

  .dropdown-divider {
    border-top-color: $dark-border;
  }

  // Mobile Menu
  .mobile-menu-toggle:hover {
    background-color: $dark-bg-tertiary;
  }

  .mobile-nav-link {
    color: $dark-text-primary;

    &:hover {
      background-color: $dark-bg-tertiary;
    }

    &.active {
      background-color: rgba($primary-500, 0.1);
      color: $primary-300;
    }
  }

  .theme-toggle-mobile {
    color: $dark-text-secondary;
    
    &:hover {
      background-color: $dark-bg-tertiary;
      color: $dark-text-primary;
    }
  }
}
